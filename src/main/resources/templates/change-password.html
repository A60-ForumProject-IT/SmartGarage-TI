<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{FragmentForm.html::head}"></head>
<body>
<div class="site-container">
    <header th:replace="~{FragmentForm.html::header-icons-info}"></header>
    <header th:replace="~{FragmentForm.html::header-container}"></header>
    <div class="row login-register-container padding-top-70 padding-bottom-70">
        <div class="column column-1-3"></div>
        <div class="column column-1-3">
            <div class="login-register-box">
                <div class="form-content">
                    <form th:action="@{/ti/users/{id}/password-change(id=${user?.id})}" method="post" th:object="${changePasswordDto}" class="contact-form">
                        <div class="form-group">
                            <label for="old-password">Old Password</label>
                            <input type="password" id="old-password" name="oldPassword" class="text-input" required>
                            <span th:if="${#fields.hasErrors('oldPassword')}"
                                  th:errors="*{oldPassword}"
                                  class="error-message"></span>
                        </div>

                        <div class="form-group">
                            <label for="new-password">New Password</label>
                            <input type="password" th:field="*{newPassword}" id="new-password" class="text-input" required>
                            <span th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}" class="error-message"></span>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Confirm New Password</label>
                            <input type="password" th:field="*{confirmPassword}" id="confirm-password" class="text-input" required>
                            <span th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="error-message"></span>
                        </div>
                        <button type="submit" class="more">Save</button>
                    </form>
                    <p th:if="${successMessage != null}" th:text="${successMessage}"></p>
                    <p th:if="${errorMessage != null}" th:text="${errorMessage}"></p>
                </div>
            </div>
        </div>
        <div class="column column-1-3"></div>
    </div>
    <footer th:replace="~{FragmentForm.html::footer-and-copyright}"></footer>
</div>
</body>
</html>

<!--<form th:action="@{/ti/users/{id}/password-change(id=${user.id})}" method="post" class="contact-form">-->
<!--    <div class="form-group">-->
<!--        <label for="old-password">Old Password</label>-->
<!--        <input type="password" id="old-password" name="oldPassword" class="text-input" required>-->
<!--    </div>-->
<!--    <div class="form-group">-->
<!--        <label for="new-password">New Password</label>-->
<!--        <input type="password" id="new-password" name="newPassword" class="text-input" required>-->
<!--        &lt;!&ndash; Добавяне на съобщение за грешка под полето за нова парола &ndash;&gt;-->
<!--        <span th:if="${passwordError != null}" th:text="${passwordError}" class="error-message"></span>-->
<!--    </div>-->
<!--    <div class="form-group">-->
<!--        <label for="confirm-password">Confirm New Password</label>-->
<!--        <input type="password" id="confirm-password" name="confirmPassword" class="text-input" required>-->
<!--    </div>-->
<!--    <button type="submit" class="more">Save</button>-->
<!--</form>-->
<!--<p th:if="${successMessage != null}" th:text="${successMessage}"></p>-->
<!--<p th:if="${errorMessage != null}" th:text="${errorMessage}"></p>-->
